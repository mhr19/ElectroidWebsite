@using Electroid.Models;
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
   
}

<!DOCTYPE html>
<html lang="en">
<head>

    <!-- start: Meta -->
    <meta charset="utf-8">
    <title>Electroid</title>
    <meta name="description" content="Bootstrap Metro Dashboard">
    <meta name="author" content="Dennis Ji">
    <meta name="keyword" content="Metro, Metro UI, Dashboard, Bootstrap, Admin, Template, Theme, Responsive, Fluid, Retina">
    <!-- end: Meta -->
    <!-- start: Mobile Specific -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- end: Mobile Specific -->
    <!-- start: CSS -->
    <link id="bootstrap-style" href="~/Content/css5/bootstrap.min.css" rel="stylesheet">
    <link href="~/Content/css5/bootstrap-responsive.min.css" rel="stylesheet">
    <link id="base-style" href="~/Content/css5/style.css" rel="stylesheet">
    <link id="base-style-responsive" href="~/Content/css5/style-responsive.css" rel="stylesheet">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800&subset=latin,cyrillic-ext,latin-ext' rel='stylesheet' type='text/css'>
    <!-- end: CSS -->
    <!-- The HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
        <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
        <link id="ie-style" href="css/ie.css" rel="stylesheet">
    <![endif]-->
    <!--[if IE 9]>
        <link id="ie9style" href="css/ie9.css" rel="stylesheet">
    <![endif]-->
    <!-- start: Favicon -->
    <link rel="shortcut icon" href="img/favicon.ico">
    <!-- end: Favicon -->




</head>
<body>
    <!-- start: Header -->
 

    <!-- start: Content -->
    <div id="content" class="span10">


        <ul class="breadcrumb">
            <li>
                <i class="icon-home"></i>
                <a href="#">Home</a>
                <i class="icon-angle-right"></i>
            </li>
            <li><a href="#">Dashboard</a></li>
        </ul>
        <div class="control-group">
            <label class="control-label">House Id:</label>
            <div class="controls">
                <input type="text" style=" width:280px" value="@ViewBag.searchedHouse.Id" name="Name" readonly>
            </div>
        </div>
        <div class="control-group">
            <label class="control-label">User Name:</label>
            @if(ViewBag.searchedUser!=null)
            { 
            <div class="controls">
                <input type="text" style=" width:280px" value="@ViewBag.searchedUser.Name" name="Password" readonly>
            </div>
            }else
            {
                <div class="controls">
                    <input type="text" style=" width:280px; color:red" value="*No user info to show" name="Password" readonly>
                </div>
            }

        </div>
        <div class="control-group">
            <label class="control-label">Age:</label>
            <div class="controls">
                <input type="text" style=" width:280px" value="@ViewBag.searchedUser.Age" name="Name" readonly>
            </div>
        </div>
        <div class="control-group">
            <label class="control-label">Gender:</label>
            <div class="controls">
                <input type="text" style=" width:280px" value="@ViewBag.searchedUser.Gender" name="Name" readonly>
            </div>
        </div>
        <div class="control-group">
            <label class="control-label">Address:</label>
            <div class="controls">
                <input type="text" style=" width:280px" value="@ViewBag.searchedHouse.Address" name="Name" readonly>
            </div>
        </div>
        <div class="control-group">
            <label class="control-label">Bill Type:</label>
            <div class="controls">
                <input type="text" style=" width:280px" value="@ViewBag.searchedHouse.BillType" name="BillType" readonly>
            </div>
        </div>
        <div class="control-group">
            <label class="control-label">No. of Rooms:</label>
            <div class="controls">
                <input type="text" style=" width:280px" value="@ViewBag.searchedHouse.HouseSize" name="HouseSize" readonly>
            </div>
        </div>
        <div class="control-group">
            <label class="control-label">Arduino Id:</label>
            <div class="controls">
                <input type="text" style=" width:280px" value="@ViewBag.searchedHouse.ArduinoId" name="ArduinoId" readonly>
            </div>
        </div>
        <div class="control-group">
            <label class="control-label">Status:</label>
            @if(ViewBag.searchedUser!=null)
            { 
            <div class="controls">
                <input type="text" style=" width:280px" value="@ViewBag.searchedUser.Status" name="Password" readonly>
            </div>
            }else
            {
                <div class="controls">
                    <input type="text" style=" width:280px; color:red" value="*No user info to show" name="Password" readonly>
                </div>
            }
        </div>
        <div class="control-group">
            <label class="control-label">Phone Number:</label>
            <div class="controls">
                <input type="text" style=" width:280px" value="@ViewBag.searchedHouse.PhoneNumber" name="Name" readonly>
            </div>
        </div>
        
        <div class="row-fluid sortable">
            <div class="box span12">
                <div class="box-header" data-original-title>
                    <h2><i class="halflings-icon user"></i><span class="break"></span>Rooms</h2>
                  
                </div>
                <div class="box-content">
                    <table class="table table-striped table-bordered bootstrap-datatable datatable">
                        <thead>
                            <tr>
                                <th hidden>Id</th>
                                <th>Room Id</th>
                                <th>Room Name</th>
                                <th>Arduino Id</th>
                                <th>Ip Address</th>
                                <th>Actions</th>
                                
                            </tr>
                        </thead>
                        <tbody>
                            @try { 
                             
                            foreach(var a in Model)
                                {
                            <tr>
                                 
                                <td hidden>@a.Id</td>
                                <td class="center">@a.RoomId</td>
                                <td class="center">@a.RoomName</td>
                                <td class="center">@a.ArduinoId</td>
                                <td class="center">@a.IPAddress</td>
                                <td class="center">
                                    <a class="btn btn-success" href="@Url.Action("viewRoom", "Admin", new {Id=@a.Id })">
                                        <i class="halflings-icon white zoom-in"></i>
                                    </a>
                                    <a class="btn btn-info" href="@Url.Action("updateRoom", "Admin", new {Id=@a.Id })">
                                        <i class="halflings-icon white edit"></i>
                                    </a>
                                    <a class="btn btn-danger" onClick="return confirm('Do you really want to delete it?')" href="@Url.Action("deleteRoom", "Admin", new { Id = @a.Id })">
                                        <i class="halflings-icon white trash"></i>
                                    </a>

                                </td>
                            </tr>
                            }
                            }catch(Exception x)
                            {
                                
                            }


                        </tbody>
                    </table>
                </div>
            </div><!--/span-->

        </div><!--/row-->

        
        <script type="text/javascript">
        var deleteLinkObj;
        // delete Link
        $('.delete-link').click(function () {
        deleteLinkObj = $(this);  //for future use
        $('#delete-dialog').dialog('open');
        return false; // prevents the default behaviour
        });

        $('#delete-dialog').dialog({
            autoOpen: false, width: 400, resizable: false, modal: true, //Dialog options
            buttons: {
                "Continue": function () {
                    $.post(deleteLinkObj[0].href, function (data) {  //Post to action
                        if (data == '<%= Boolean.TrueString %>') {
                            deleteLinkObj.closest("tr").hide('fast'); //Hide Row
                            //(optional) Display Confirmation
                        }
                        else {
                            //(optional) Display Error
                        }
                    });
                    $(this).dialog("close");
                },
                "Cancel": function () {
                    $(this).dialog("close");
                }
            }
        });
        </script>
            
        <div class="control-group">
            <a class=" btn btn-primary" href="@Url.Action("addRoom", "Admin", new { Id = @ViewBag.searchedHouse.Id })">+ Add Room</a>
            <a class=" btn btn-primary" href="~/Admin/addUser">+ Add User</a>

        </div>
        @*<footer>
            <p>
                <span style="text-align:left;float:left">&copy; 2013 <a href="http://jiji262.github.io/Bootstrap_Metro_Dashboard/" alt="Bootstrap_Metro_Dashboard">Bootstrap Metro Dashboard</a></span>

            </p>
        </footer>*@

        <!-- start: JavaScript-->

        <script src="~/Scripts/js4/jquery-1.9.1.min.js"></script>
        <script src="~/Scripts/js4/jquery-migrate-1.0.0.min.js"></script>

        <script src="~/Scripts/js4/jquery-ui-1.10.0.custom.min.js"></script>

        <script src="~/Scripts/js4/jquery.ui.touch-punch.js"></script>

        <script src="~/Scripts/js4/modernizr.js"></script>

        <script src="~/Scripts/js4/bootstrap.min.js"></script>

        <script src="~/Scripts/js4/jquery.cookie.js"></script>

        <script src='~/Scripts/js4/fullcalendar.min.js'></script>

        <script src='~/Scripts/js4/jquery.dataTables.min.js'></script>
        <script src="~/Scripts/js4/excanvas.js"></script>
        <script src="~/Scripts/js4/jquery.flot.js"></script>
        <script src="~/Scripts/js4/jquery.flot.pie.js"></script>
        <script src="~/Scripts/js4/jquery.flot.stack.js"></script>
        <script src="~/Scripts/js4/jquery.flot.resize.min.js"></script>

        <script src="~/Scripts/js4/jquery.chosen.min.js"></script>

        <script src="~/Scripts/js4/jquery.uniform.min.js"></script>

        <script src="~/Scripts/js4/jquery.cleditor.min.js"></script>

        <script src="~/Scripts/js4/jquery.noty.js"></script>

        <script src="~/Scripts/js4/jquery.elfinder.min.js"></script>

        <script src="~/Scripts/js4/jquery.raty.min.js"></script>

        <script src="~/Scripts/js4/jquery.iphone.toggle.js"></script>

        <script src="~/Scripts/js4/jquery.uploadify-3.1.min.js"></script>

        <script src="~/Scripts/js4/jquery.gritter.min.js"></script>

        <script src="~/Scripts/js4/jquery.imagesloaded.js"></script>

        <script src="~/Scripts/js4/jquery.masonry.min.js"></script>

        <script src="~/Scripts/js4/jquery.knob.modified.js"></script>

        <script src="~/Scripts/js4/jquery.sparkline.min.js"></script>

        <script src="~/Scripts/js4/counter.js"></script>

        <script src="~/Scripts/js4/retina.js"></script>
        <script src="~/Scripts/js4/custom.js"></script>
        <!-- end: JavaScript-->

</body>
</html>

